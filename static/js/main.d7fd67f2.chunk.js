(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{100:function(e,t,n){e.exports={error:"Registration_error__1PcbB"}},101:function(e,t,n){e.exports={header:"Header_header__3Bcrf"}},103:function(e,t,n){e.exports=n.p+"static/media/user.93a57c9f.png"},104:function(e,t,n){e.exports={avatar:"profile_avatar__2tPc2"}},106:function(e,t,n){e.exports=n(348)},111:function(e,t,n){},112:function(e,t,n){},31:function(e,t,n){e.exports={default:"Button_default__3Uriw",primary:"Button_primary__8KPpr",danger:"Button_danger__14GBt",load:"Button_load__1LC-H"}},348:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(41),i=n.n(o),u=(n(111),n(112),n(20)),c=n(7),l=n(23),s=n(9),p=n(11),d=n.n(p),m=n(29),b=n(10),g=n(99),h=n.n(g).a.create({baseURL:"http://localhost:7542/1.0/"}),v=function(e,t,n){return h.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e}))},E={buttonName:"Sign in",buttonType:["primary","danger"],loading:!1,inputType:["text","password","checkbox"],isAuth:!1,error:""},f=function(e){return{type:"login/SET_SUCCESS",isAuth:e}},y=function(e){return{type:"login/SET_ERROR",error:e}},O=function(e){return{type:"login/SET_LOADING",loading:e}},_=function(e){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("input",{onChange:e.onChange,type:e.inputType,value:e.value})))},T=n(31),S=n.n(T),j=function(e){var t,n="";return"primary"===e.buttonType&&(n=S.a.primary),"danger"===e.buttonType&&(n=S.a.danger),e.loading&&(t=a.a.createElement("img",{alt:"loading",className:S.a.load,src:"https://upload.wikimedia.org/wikipedia/commons/b/b9/Youtube_loading_symbol_1_(wobbly).gif"})),e.loading&&(n=S.a.primary),a.a.createElement("div",null,a.a.createElement("button",{disabled:e.buttonDisabled,className:S.a.default+" "+n,onClick:e.onClick},t," ",e.buttonName))},w=n(56),A=n.n(w),R=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),p=Object(l.a)(i,2),b=p[0],g=p[1],h=Object(r.useState)(!1),E=Object(l.a)(h,2),T=E[0],S=E[1],w=Object(r.useCallback)((function(e){return o(e.currentTarget.value)}),[o]),R=Object(r.useCallback)((function(e){return g(e.currentTarget.value)}),[g]),N=Object(r.useCallback)((function(e){return S(e.currentTarget.checked)}),[S]),k=Object(s.d)((function(e){return e.login})),C=Object(s.c)(),x=Object(r.useCallback)((function(){return C(function(e,t,n){return function(){var r=Object(m.a)(d.a.mark((function r(a){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(O(!0)),r.prev=1,r.next=4,v(e,t,n);case 4:r.sent.data&&(a(f(!0)),a(O(!1))),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),a(O(!1)),a(y(r.t0.response.data.error));case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}(n,b,T))}),[n,b,T,C]);if(k.isAuth)return a.a.createElement(c.a,{to:"/profile"});var B=""!==k.error?A.a.errorLogin:"",I=!!k.loading;return a.a.createElement("form",null,a.a.createElement("div",{className:A.a.errorText},k.error),a.a.createElement("div",{className:B},"Login ",a.a.createElement(_,{onChange:w,value:k.value,inputType:k.inputType[0]})),a.a.createElement("div",{className:B},"Password ",a.a.createElement(_,{onChange:R,value:k.value,inputType:k.inputType[1]})),a.a.createElement("div",null,"Remember me ",a.a.createElement(_,{onChange:N,value:k.value,inputType:k.inputType[2]})),a.a.createElement("div",null,a.a.createElement(u.b,{to:"/restorePassword"},"Forgot password?")),a.a.createElement(j,{buttonDisabled:I,onClick:x,loading:k.loading,buttonType:""!==k.error?k.buttonType[1]:k.buttonType[0],buttonName:k.buttonName}))},N=function(e,t){return h.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},k={buttonName:"Sign up",buttonType:["primary","danger"],loading:!1,inputType:["text","password"],isAuth:!1,serverAnswer:""},C="REGISTRATION/IS_FETCHING",x="REGISTRATION/IS_USER_AUTH",B=function(e){return{type:C,loading:e}},I=function(e){return{type:"REGISTRATION/SET_SERVER_ANSWER",serverAnswer:e}},L=n(100),P=n.n(L),W=function(){var e=Object(s.d)((function(e){return e.registration})),t=Object(s.c)(),n=Object(r.useState)("oxa@gmail.com"),o=Object(l.a)(n,2),i=o[0],u=o[1],p=Object(r.useState)("!12345!123"),b=Object(l.a)(p,2),g=b[0],h=b[1],v=Object(r.useCallback)((function(e){u(e.currentTarget.value)}),[u]),E=Object(r.useCallback)((function(e){h(e.currentTarget.value)}),[h]),f=Object(r.useCallback)((function(){return t(function(e,t){return function(){var n=Object(m.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(B(!0)),n.next=3,N(e,t);case 3:!0===n.sent.success?(r(B(!1)),r({type:x,isAuth:!0}),r(I("ok"))):(r(I("some error")),console.log("Such a user has already been created"),r(B(!1)));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(i,g))}),[i,g,t]),y=!!e.loading;return e.isAuth?a.a.createElement(c.a,{to:"/login"}):a.a.createElement("div",null,a.a.createElement("div",null,"Your e-mail ",a.a.createElement(_,{onChange:v,value:i,inputType:e.inputType[0]})),a.a.createElement("div",null,"Your password ",a.a.createElement(_,{onChange:E,value:g,inputType:e.inputType[1]})),a.a.createElement("div",null,g.length<=7&&a.a.createElement("span",{className:P.a.error},"Password length must be more then 7")),"some error"===e.serverAnswer&&a.a.createElement("span",null,e.serverAnswer),a.a.createElement(j,{buttonDisabled:y,onClick:f,loading:e.loading,buttonType:""!==e.serverAnswer?e.buttonType[1]:e.buttonType[0],buttonName:e.buttonName}))},D=n(101),G=n.n(D),U=function(){Object(s.d)((function(e){return e.login}));return a.a.createElement("div",{className:G.a.header},a.a.createElement("div",null,a.a.createElement(u.b,{to:"/login"}," Sign in ")," |",a.a.createElement(u.b,{to:"/registration"}," Sign up ")))},z=n(102),H=n.n(z),V=function(e){return h.post("auth/forgot",{email:e,html1:"<a href='http://localhost:3000/cards#/restorePassword/",html2:"'>reset-password-link</a>"}).then((function(e){return e.data}))},Y={buttonName:"Send password",buttonType:["primary","danger"],loading:!1,inputType:["text","password"],isAuth:!1,serverAnswer:""},F=function(e){return{type:"RESTORE_PASSWORD/SET_SERVER_ANSWER",serverAnswer:e}},J=function(){var e=Object(s.d)((function(e){return e.restore})),t=Object(s.c)(),n=Object(r.useState)(""),o=Object(l.a)(n,2),i=o[0],c=o[1],p=Object(r.useCallback)((function(e){c(e.currentTarget.value)}),[c]),b=!!e.loading;return a.a.createElement("div",null,"Enter your e-mail ",a.a.createElement(_,{onChange:p,value:e.value,inputType:e.inputType[0]}),a.a.createElement(u.b,{to:"/login"}," ",a.a.createElement(j,{buttonDisabled:b,onClick:function(){t(function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:t.sent.success?n(F("ok")):n(F("some error"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i))},loading:e.loading,buttonType:e.buttonType,buttonName:e.buttonName})))},K=n(103),X=n.n(K),M=n(104),Q=n.n(M),$=function(){var e=Object(s.d)((function(e){return e.profile}));return a.a.createElement("div",null,a.a.createElement("img",{className:Q.a.avatar,alt:"user",src:X.a})," ",e.userName)},q=Object(s.b)((function(e){return{isAuthByLogin:e.login.isAuth,isAuthByRestore:e.restore.isAuth,isAuthByRegistration:e.registration.isAuth}}),{})((function(e){var t=e.isAuthByLogin||e.isAuthByRegistration||e.isAuthByRestore;return a.a.createElement("div",{className:"App"},a.a.createElement(u.a,null,a.a.createElement(H.a,{className:"particles",params:{particles:{number:{value:50,density:{enable:!0,value_area:800}},color:{value:"#715858"},line_linked:{enable:!0,distance:150,color:"#E6E6FA",opacity:.4,width:1},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5}},size:{value:20,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}}}}}),a.a.createElement(U,null),a.a.createElement(c.b,{path:"/login",component:R}),a.a.createElement(c.b,{path:"/registration",component:W}),a.a.createElement(c.b,{path:"/restorePassword",component:J}),a.a.createElement(c.b,{path:"/profile",component:$}),!t&&a.a.createElement("div",{className:"main"},a.a.createElement("span",{className:"welcome"}," Welcome to ANOX! "),a.a.createElement("div",null,"Study different things with us!"))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=n(30),ee={userId:"1",userName:"Oxana"},te=n(105),ne=Object(Z.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{isAuth:t.isAuth,loading:!1,error:""});case"login/SET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.error,loading:!1,isAuth:!1});case"login/SET_LOADING":return Object(b.a)(Object(b.a)({},e),{},{error:"",loading:t.loading,isAuth:!1});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(b.a)(Object(b.a)({},e),{},{loading:t.loading});case x:return Object(b.a)(Object(b.a)({},e),{},{isAuth:t.isAuth});case"REGISTRATION/SET_SERVER_ANSWER":return Object(b.a)(Object(b.a)({},e),{},{serverAnswer:t.serverAnswer});default:return e}},restore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE_PASSWORD/SET_SERVER_ANSWER":return Object(b.a)(Object(b.a)({},e),{},{serverAnswer:t.serverAnswer});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee;return e}}),re=Object(Z.d)(ne,Object(Z.a)(te.a));i.a.render(a.a.createElement(s.a,{store:re},a.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,n){e.exports={errorLogin:"Login_errorLogin__3BSRQ",errorText:"Login_errorText__2vKpa",formSummaryError:"Login_formSummaryError__2jPBp"}}},[[106,1,2]]]);
//# sourceMappingURL=main.d7fd67f2.chunk.js.map